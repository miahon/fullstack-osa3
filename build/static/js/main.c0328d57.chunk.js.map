{"version":3,"sources":["components/Person.js","components/Persons.js","components/PersonForm.js","components/Filter.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Person","person","handleDeletePerson","className","name","number","type","onClick","id","Persons","persons","searchTerm","results","filter","toLowerCase","includes","map","key","PersonForm","addPerson","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","value","onChange","Filter","handleFilterChange","placeholder","Notification","message","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","setPersons","setNewName","setNewNumber","setSearchTerm","Message","setMessage","useEffect","personService","initialPersons","event","console","log","target","preventDefault","newPerson","duplicateName","length","window","confirm","returnedPerson","catch","error","content","n","setTimeout","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c0328d57.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Person = ({person, handleDeletePerson}) => (\r\n    \r\n  <div>\r\n    <li className='person'>{person.name} {person.number} \r\n    <button  type=\"button\" onClick={() => handleDeletePerson(person.id, person.name)}> Delete</button></li>\r\n  </div>\r\n    )\r\n\r\n  export default Person","\r\nimport React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Persons = ({ persons, searchTerm, handleDeletePerson}) => {\r\n\r\n  const results = persons.filter(person =>\r\n    person.name.toLowerCase().includes(searchTerm)\r\n  );\r\n  \r\n  \r\n\r\n\r\n\r\n\r\n    return (\r\n      <div>\r\n        <ul>\r\n          {results.map((person) => \r\n            <Person \r\n            key={person.id} \r\n            person={person}\r\n            handleDeletePerson={handleDeletePerson}\r\n            />\r\n          )}\r\n        </ul>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default Persons","import React from 'react'\r\n\r\nconst PersonForm = ({ addPerson,newName,newNumber,handleNameChange,handleNumberChange }) => (\r\n \r\n\r\n<form onSubmit={addPerson}> \r\n        <div>\r\n          name: \r\n          <input \r\n          value={newName}\r\n          onChange={handleNameChange}          \r\n          />\r\n        </div>\r\n        <div>\r\n          number: \r\n          <input\r\n          value={newNumber}\r\n          onChange={handleNumberChange}          \r\n        />\r\n        </div>   \r\n\r\n\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n  \r\n)\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Filter = ({ searchTerm,handleFilterChange }) => (\r\n    <div>\r\n        <input  type=\"text\" placeholder=\"Search\" value={searchTerm} onChange={handleFilterChange} />\r\n    </div>\r\n  \r\n)\r\n\r\nexport default Filter","  \r\nimport React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className=\"message\">\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n  }\r\n\r\n    \r\n  const create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n\r\n  const update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n\r\n  const remove = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n    }\r\n\r\nexport default {  getAll,  create,   update, remove }"," // refaktoroi, tila- ja tapahtumakäsittelit pidetään Appissa, eriytä esim.  \n// https://fullstackopen.com/osa2/lomakkeiden_kasittely\n// tästäkö pöllinyt https://dev.to/asimdahall/simple-search-form-in-react-using-hooks-42pg\n// hyödynnä https://github.com/EskelinenAntti/fullstack-open-2020/blob/master/osa2/puhelinluettelo/src/components/persons.js\n// säätöä vielä ainakin messages ja värit sekä ilmot, oliko muuta?\n\nimport React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport Notification from './components/Notification'\nimport personService from './services/persons'\n\n\nconst App = () => {\n\n  const [ persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('moro')\n  const [ newNumber, setNewNumber ] = useState('000')\n  const [searchTerm, setSearchTerm] = useState(\"\")\n  const [Message, setMessage] = useState(null)\n\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n\n\n  //lisätään\n  const addPerson = (event) => {\n    event.preventDefault()\n    const newPerson = { \n      name: newName, \n      number: newNumber \n    }\n\n    //tsekataan duplikaatit    \n    const duplicateName = persons.filter( person => person.name === newName )\n\n    if (duplicateName.length > 0) {\n\n      console.log(duplicateName[0].id)\n\n      window.confirm(`${newName} is already added to phonebook, replace the old number with the new one?`)\n\n      //korvataan vanha numero   \n        personService\n          .update(duplicateName[0].id, newPerson)\n          \n          .then(returnedPerson => {\n          setPersons(persons.map(person => person.id !== returnedPerson.id ? person : returnedPerson)) // opettele tää???\n          setNewName('')\n          setNewNumber('') \n        })\n        //tsekkaa tää kun delete valmis\n        .catch(error => {\n          setMessage(\n            `the note '${persons.content}' was already deleted from server`\n          )\n\n          setPersons(persons.filter(n => n.id !== duplicateName[0].id))\n    \n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n    \n          \n        })\n     \n    // tähän loppuu  \n\n    } \n  \n    else {\n// muuten lisätään henkilö\n    personService\n     .create(newPerson)\n     .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        setNewName('Tallentui')\n        setNewNumber('660') \n\n \n    })\n\n     // toimii lisäyksessä\n   setMessage(`Added ${newName}` )    \n   setTimeout(() => {\n     setMessage(null)\n     }, 5000)\n\n\n   }\n  \n\n  }\n\n\n  \n\n\n  \n// haku tehty tällä, saanko siirrettyä tämän filter komponenttiin??\n/*\n  useEffect(() => {\n    const results = persons.filter(person =>\n      person.name.toLowerCase().includes(searchTerm)\n    );\n    setSearchResults(results);\n    \n  }, [searchTerm, persons]); \n  */\n  //lisäsin tuon persons, mihin tarvitaan tämä osa?\n\n  \n  \n\n  const handleFilterChange = (event) => {\n   console.log(event.target.value)\n   setSearchTerm(event.target.value)\n   }\n\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  //poistetaan henkilö\n  const handleDeletePerson = (id,name) => {\n\n     \n    if (window.confirm(`Delete ${name}?`)) {\n\n    personService\n      .remove(id)\n      .then(() => {\n      setPersons(persons.filter(person => person.id !== id  )) \n      // set message\n    })\n\n    }  \n    //otetaan virhe kiinni..\n    console.log(id)\n    }\n\n    \n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={Message} />\n      <div>\n\n      <Filter \n      searchTerm={searchTerm}\n      handleFilterChange={handleFilterChange}      \n      />\n      </div>\n            \n           \n      <h2>Add new</h2>\n      <div>\n      <PersonForm \n      addPerson={addPerson}\n      newName={newName}\n      newNumber={newNumber}\n      handleNameChange={handleNameChange}\n      handleNumberChange={handleNumberChange}       \n      \n       />\n      </div>\n\n\n      <h2>Numbers</h2>\n      \n      <div>\n      \n       <Persons \n       persons={persons}\n       searchTerm={searchTerm}        \n       handleDeletePerson={handleDeletePerson}\n       />\n       </div>      \n       \n    </div>\n  )\n\n \n\n}\nexport default App","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App';\r\nimport './index.css'\r\n\r\n\r\n\r\nReactDOM.render(\r\n    <App />,\r\n    document.getElementById('root')\r\n)"],"sourceRoot":""}