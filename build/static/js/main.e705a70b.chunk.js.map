{"version":3,"sources":["components/Person.js","components/Persons.js","components/PersonForm.js","components/Filter.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Person","person","handleDeletePerson","className","name","number","type","onClick","id","Persons","persons","searchTerm","results","filter","toLowerCase","includes","map","key","PersonForm","addPerson","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","value","onChange","Filter","handleFilterChange","placeholder","Notification","message","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","setPersons","setNewName","setNewNumber","setSearchTerm","Message","setMessage","useEffect","personService","initialPersons","event","console","log","target","preventDefault","newPerson","duplicateName","length","window","confirm","returnedPerson","catch","error","setTimeout","n","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e705a70b.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Person = ({person, handleDeletePerson}) => (\r\n    \r\n  <div>\r\n    <li className='person'>{person.name} {person.number} \r\n    <button  type=\"button\" onClick={() => handleDeletePerson(person.id, person.name)}> Delete</button></li>\r\n  </div>\r\n    )\r\n\r\n  export default Person","\r\nimport React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Persons = ({ persons, searchTerm, handleDeletePerson}) => {\r\n\r\n  const results = persons.filter(person =>\r\n    person.name.toLowerCase().includes(searchTerm)\r\n  );\r\n  \r\n  \r\n    return (\r\n      <div>\r\n        <ul>\r\n          {results.map((person) => \r\n            <Person \r\n            key={person.id} \r\n            person={person}\r\n            handleDeletePerson={handleDeletePerson}\r\n            />\r\n          )}\r\n        </ul>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default Persons","import React from 'react'\r\n\r\nconst PersonForm = ({ addPerson,newName,newNumber,handleNameChange,handleNumberChange }) => (\r\n \r\n\r\n<form onSubmit={addPerson}> \r\n        <div>\r\n          name: \r\n          <input \r\n          value={newName}\r\n          onChange={handleNameChange}          \r\n          />\r\n        </div>\r\n        <div>\r\n          number: \r\n          <input\r\n          value={newNumber}\r\n          onChange={handleNumberChange}          \r\n        />\r\n        </div>   \r\n\r\n\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n  \r\n)\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Filter = ({ searchTerm,handleFilterChange }) => (\r\n    <div>\r\n        <input  type=\"text\" placeholder=\"Search\" value={searchTerm} onChange={handleFilterChange} />\r\n    </div>\r\n  \r\n)\r\n\r\nexport default Filter","  \r\nimport React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n   \r\n  return (\r\n    <div className=\"message\" >\r\n      {message}\r\n    </div>  \r\n  )\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\n\r\nconst baseUrl = '/api//persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n  }\r\n\r\n    \r\n  const create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n\r\n  const update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n\r\n  const remove = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n    }\r\n\r\nexport default {  getAll,  create,   update, remove }","  \n// säätöä vielä värit sekä ilmot\n\nimport React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport Notification from './components/Notification'\nimport personService from './services/persons'\n\n\nconst App = () => {\n\n  const [ persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [searchTerm, setSearchTerm] = useState(\"\")\n  const [Message, setMessage] = useState(null)\n  \n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const newPerson = { \n      name: newName, \n      number: newNumber \n    }\n\n    const duplicateName = persons.filter( person => person.name === newName )\n    \n    if (duplicateName.length > 0) {\n       const ok = window.confirm(`${newName} is already added to phonebook, replace the old number with the new one?`)\n\n       if(ok){ //\n       \n        personService\n          .update(duplicateName[0].id, newPerson)\n          \n          .then(returnedPerson => {\n          setPersons(persons.map(person => person.id !== returnedPerson.id ? person : returnedPerson))\n          setNewName('')\n          setNewNumber('') \n          setMessage(\n            `${returnedPerson.name}'s number was updated`\n          )\n\n        })\n        //väri puuttuu\n        .catch(error => {\n          setMessage(\n            `${newName}' was already deleted from server`\n          )        \n    \n          setTimeout(() => {\n            setMessage(null)\n          }, 3000)\n\n          setPersons(persons.filter(n => n.id !== duplicateName[0].id))    \n          \n        })\n      }     \n    \n\n    } \n  \n    else {\n   \n    personService\n     .create(newPerson)\n     .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        setNewName('')\n        setNewNumber('') \n\n    \n      setMessage(`Added ${newName}` )    \n      setTimeout(() => {\n          setMessage(null)\n      }, 3000)\n\n \n    })  \n       \n    .catch(error => \n      {console.log(error.response.data) \n      setMessage(`${error.response.data.error}`)    \n      setTimeout(() => {\n        setMessage(null)\n       }, 3000)\n    \n    })\n\n   }   \n\n  }\n\n\n  \n  const handleFilterChange = (event) => {\n   console.log(event.target.value)\n   setSearchTerm(event.target.value)\n   }\n\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  \n  const handleDeletePerson = (id,name) => {\n\n    if (window.confirm(`Delete ${name}?`)) {\n\n    personService\n      .remove(id)\n      .then(() => {\n      setPersons(persons.filter(person => person.id !== id  )) \n      \n      setMessage(` ${name} is deleted` )    \n      setTimeout(() => {\n          setMessage(null)\n      }, 3000)\n      })\n\n      \n      //väri\n      .catch(error => {\n        setMessage(\n          `${name}' was already deleted from server`\n        )        \n  \n        setTimeout(() => {\n          setMessage(null)\n        }, 3000)\n\n        setPersons(persons.filter(n => n.id !== id))    \n        \n      })        \n\n    }\n\n  }    \n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={Message} />\n      <div>\n\n      <Filter \n      searchTerm={searchTerm}\n      handleFilterChange={handleFilterChange}      \n      />\n      </div>\n            \n           \n      <h2>Add new</h2>\n      <div>\n      <PersonForm \n      addPerson={addPerson}\n      newName={newName}\n      newNumber={newNumber}\n      handleNameChange={handleNameChange}\n      handleNumberChange={handleNumberChange}       \n      \n       />\n      </div>\n\n      <h2>Numbers</h2>\n      \n      <div>      \n       <Persons \n       persons={persons}\n       searchTerm={searchTerm}        \n       handleDeletePerson={handleDeletePerson}\n       />\n       </div>      \n       \n    </div>\n  )\n\n}\nexport default App","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App';\r\nimport './index.css'\r\n\r\n\r\n\r\nReactDOM.render(\r\n    <App />,\r\n    document.getElementById('root')\r\n)"],"sourceRoot":""}